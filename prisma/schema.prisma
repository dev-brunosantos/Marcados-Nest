generator client {
  provider = "prisma-client-js"
}

datasource db {
  // provider = "postgresql"
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Cargo {
  id            Int      @id @default(autoincrement())
  nome          String   @unique
  dtCriacao     DateTime @default(now())
  dtAtualizacao DateTime @updatedAt

  usuarios Usuario[]
}

model Voz {
  id            Int      @id @default(autoincrement())
  naipe         String   @unique
  dtCriacao     DateTime @default(now())
  dtAtualizacao DateTime @updatedAt

  usuarios Usuario[]
}

model Instrumento {
  id            Int      @id @default(autoincrement())
  naipe         String   @unique
  dtCriacao     DateTime @default(now())
  dtAtualizacao DateTime @updatedAt

  usuarios Usuario[]
}

model Usuario {
  id            String   @id @default(uuid())
  nome          String
  email         String   @unique
  senha         String
  dtCadastro    DateTime @default(now())
  dtAtualizacao DateTime @updatedAt

  cargoId Int
  cargos  Cargo  @relation(fields: [cargoId], references: [id])
  vozId   Int?
  vozes   Voz? @relation(fields: [vozId], references: [id])
  instrumentoId Int?
  instrumento Instrumento? @relation(fields: [instrumentoId], references: [id])
}
